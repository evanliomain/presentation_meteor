'use strict';

var gulp = require('gulp');

var plugins = require('./');

module.exports = function addSrc(options, sources) {
  if (!sources) {
    sources = options;
    options = {};
  }
  sources = sources || [];

  var noop = plugins.noop();
  var args = [noop, gulp.src(sources, options)];
  return plugins.plexer(
    {objectMode: true},
    noop,
    plugins.merge.apply(null, options.prepend ? args.reverse() : args)
  );
};
