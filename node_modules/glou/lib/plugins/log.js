'use strict';

var _ = require('lodash');
var chalk = require('chalk');
var date = require('dateformat');

var colors = {
  log: 'grey',
  warn: 'yellow',
  error: 'red',
};

function internalLog(method, type) {
  var time = '[' + chalk[colors[type]](date(new Date(), 'HH:MM:ss')) + ']';
  var args = _.toArray(arguments);
  args.splice(0, 2);
  args.unshift(time);
  console[method].apply(console, args);
  return this;
}

var log = module.exports = _.partial(internalLog, 'log', 'log');
log.warn = _.partial(internalLog, 'log', 'warn');
log.error = _.partial(internalLog, 'error', 'error');
